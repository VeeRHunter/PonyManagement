<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title>register</ion-title>
  </ion-navbar>

</ion-header> -->


<ion-content padding>
  <ion-row class="first-row">

    <ion-row class="signin-title">
      <ion-col col-2></ion-col>
      <ion-col col-6>
        <ion-row class="full-height">
          <span>
            SIGN UP
          </span>
        </ion-row>
      </ion-col>
      <ion-col col-2>
        <ion-row class="full-height">
          <ion-icon name="md-person-add"></ion-icon>
        </ion-row>
      </ion-col>
    </ion-row>

    <form #userProfile="ngForm" id="userProfile" (ngSubmit)="signUpUser(userProfile)" novalidate>

      <ion-row class="user-input-row signin-first">
        <ion-col col-2>
          <ion-row class="full-height">
            <ion-icon class="input-icon" name="md-person">
            </ion-icon>
          </ion-row>
        </ion-col>

        <ion-col col-10>
          <ion-row class="full-height">
            <mat-form-field class="example-full-width">
              <input matInput type="text" placeholder="UserName" [(ngModel)]="userData.username" required name="username">

              <mat-error>
                UserName is required.
              </mat-error>

            </mat-form-field>
          </ion-row>
        </ion-col>

      </ion-row>

      <ion-row class="user-input-row">
        <ion-col col-2>
          <ion-row class="full-height">
            <ion-icon class="input-icon" name="md-person">
            </ion-icon>
          </ion-row>
        </ion-col>

        <ion-col col-10>
          <ion-row class="full-height">
            <mat-form-field class="example-full-width">
              <input matInput type="text" placeholder="Surname" [(ngModel)]="userData.surname" required name="surname">

              <mat-error>
                Surname is required.
              </mat-error>

            </mat-form-field>
          </ion-row>
        </ion-col>

      </ion-row>

      <ion-row class="user-input-row">
        <ion-col col-2>
          <ion-row class="full-height">
            <ion-icon class="input-icon" name="md-mail">
            </ion-icon>
          </ion-row>
        </ion-col>

        <ion-col col-10>
          <ion-row class="full-height">
            <mat-form-field class="example-full-width">
              <input matInput type="email" placeholder="Email Address" [formControl]="emailFormControl" [(ngModel)]="userData.email"
                required name="emailaddress">

              <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                Please input valid email address.
              </mat-error>

              <mat-error *ngIf="emailFormControl.hasError('required')">
                Email address is required.
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

      </ion-row>

      <ion-row class="user-input-row">
        <ion-col col-2>
          <ion-row class="full-height">
            <ion-icon class="input-icon" name="md-person">
            </ion-icon>
          </ion-row>
        </ion-col>

        <ion-col col-10>
          <ion-row class="full-height">
            <mat-form-field class="example-full-width">
              <input matInput type="text" placeholder="Phone Number" [formControl]="phoneControl" [(ngModel)]="userData.phonenumber"
                required name="phonenumber">

              <mat-error *ngIf="phoneControl.hasError('required')">
                Phone Number is required.
              </mat-error>

              <mat-error *ngIf="phoneControl.hasError('pattern') && !phoneControl.hasError('required')">
                Please insert a valid Phone Number.
              </mat-error>

            </mat-form-field>
          </ion-row>
        </ion-col>

      </ion-row>

      <ion-row class="user-input-row">
        <ion-col col-2>
          <ion-row class="full-height">
            <ion-icon class="input-icon" name="md-lock">
            </ion-icon>
          </ion-row>
        </ion-col>

        <ion-col col-10>
          <ion-row class="full-height">
            <mat-form-field class="example-full-width">
              <input matInput type="password" placeholder="Password" [(ngModel)]="userData.password" required name="password">
              <mat-error>
                Password is required.
              </mat-error>
            </mat-form-field>
          </ion-row>
        </ion-col>

      </ion-row>

      <ion-row class="user-input-row">
        <ion-col col-2>
          <ion-row class="full-height">
            <ion-icon class="input-icon" name="md-lock">
            </ion-icon>
          </ion-row>
        </ion-col>

        <ion-col col-10>
          <ion-row class="full-height">
            <mat-form-field class="example-full-width">
              <input matInput type="password" [formControl]="rePasswordControl" placeholder="Confirm Password"
                [(ngModel)]="userData.confirmpassword" required name="confirmpassword">

              <ion-row class="mat-error-show" *ngIf="(userData.password != userData.confirmpassword && userData.confirmpassword != '') || (userData.confirmpassword == '' && clickSignUp)">
                Password Mismatch.
              </ion-row>

              <ion-row class="mat-error-show" *ngIf="rePasswordControl.touched && userData.confirmpassword == ''">
                Confirm Password is required.
              </ion-row>
            </mat-form-field>
          </ion-row>
        </ion-col>

      </ion-row>

      <ion-row class="profile-image">
        <ion-col col-6>
          <ion-row class="full-height" (click)="uploadPicture()">
            <span>
              Your Photo
            </span>
          </ion-row>
        </ion-col>
        <ion-col col-6>
          <ion-row class="full-height">
            <ion-row>
              <ion-icon name="md-contact" (click)="uploadPicture()" *ngIf="userData.profileImage==''"></ion-icon>
              <img src="{{userData.profileImage}}" (click)="uploadPicture()" *ngIf="userData.profileImage!=''">
            </ion-row>
          </ion-row>
        </ion-col>
        <ion-row class="photo-error" *ngIf="clickSignUp && userData.profileImage==''">
          <span>
            Profile photo is required.
          </span>
        </ion-row>
      </ion-row>

      <ion-row class="signup-row ">
        <ion-col col-1>
        </ion-col>

        <ion-col col-11>
          <ion-row class="full-height">
            <button mat-stocked-button class="signup-button ">
              Sign Up
            </button>
          </ion-row>
        </ion-col>

      </ion-row>

    </form>

  </ion-row>
</ion-content>